<table id="list" class="table table-bordered table-responsive table-striped">
    <thead>
        <tr>
            <th width="3px">#</th>
            {% for name in columns %}
            <th>{{ name|upper|replace({"_" : " "}) }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for key,value in list %}
        <tr>
            <td>{{ key + 1 }}</td>
            {% for name in columns %}            
            <td>
                {% if name == "box_number" %}
                {% set boxnum = value[name]|split(',') %}
                    {% for box in boxnum %}
                        <span class="label label-success">{{box}}</span>
                    {% endfor %}
                {% elseif name == "date" or name == "unload_date" or
                 name == "loaded_date" or name == "eta"
                 %}
                    {{value[name]|date('d/M/Y')}}
                {% elseif name == "arrival_time" %}
                {{value[name]|date('d/M/Y h:m A')}}
                {% elseif name == "status" %}
                    {% if value[name]|lower == "pending" %}
                        <span class="label label-warning">{{ value[name] }}</span>
                    {% elseif value[name]|lower == "in progress" %}
                        <span class="label label-primary">{{ value[name] }}</span>
                    {% else %}
                        <span class="label label-success">{{ value[name] }}</span>
                    {% endif %}
                {% else %}
                    {{value[name]}}
                {% endif %}
            </td>
            {% endfor %}                
        </tr>
        {% endfor %}
    </tbody>
</table>